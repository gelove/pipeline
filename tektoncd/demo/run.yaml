apiVersion: tekton.dev/v1alpha1
kind: PipelineRun
metadata:
  generateName: zcloud-build-run-
spec:
  pipelineRef:
    name: zcloud-build-pipeline
  serviceAccount: pipeline-run-service
  resources:
  - name: singlecloud-repo
    resourceSpec:
      type: git
      params:
      - name: revision
        value: master
      - name: url
        value: https://github.com/zdnscloud/singlecloud
  - name: singlecloud-ui-repo
    resourceSpec:
      type: git
      params:
      - name: revision
        value: master
      - name: url
        value: https://github.com/zdnscloud/singlecloud-ui
  - name: zcloud-repo
    resourceSpec:
      type: git
      params:
      - name: revision
        value: master
      - name: url
        value: https://github.com/gsmlg/zcloud-image
  - name: singlecloud-image
    resourceSpec:
      type: image
      params:
        - name: url
          value: registry.zdns.cn/zcloud/singlecloud:master
  - name: singlecloud-ui-image
    resourceSpec:
      type: image
      params:
        - name: url
          value: registry.zdns.cn/zcloud/singlecloud-ui:master
  - name: zcloud-image
    resourceSpec:
      type: image
      params:
        - name: url
          value: registry.zdns.cn/zcloud/zcloud:master
